<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>拨号方案</title>
        
        <!-- Common plugins -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/simple-line-icons.css" rel="stylesheet">
        <link href="css/font-awesome.min.css" rel="stylesheet">
        <link href="css/pace.css" rel="stylesheet">
        <link href="css/jasny-bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="css/nanoscroller.css">
        <link rel="stylesheet" href="css/metismenu.min.css">
        <!-- dataTables -->
        <link href="css/jquery.datatables.min.css" rel="stylesheet" type="text/css">
        <link href="css/responsive.bootstrap.min.css" rel="stylesheet" type="text/css">
        <!-- Treeview css -->
        <link href="css/style_1.css" rel="stylesheet" type="text/css" />
        <!--template css-->
	    <link href="css/jquery-ui.css" rel="stylesheet">
	
	    <link href="css/blue.css" rel="stylesheet">
	    <link href="css/style.css" rel="stylesheet">
	    <link href="css/jayne.css" rel="stylesheet">
	    <link href="css/vlstyle.css" rel="stylesheet">
	    <link rel="stylesheet" href="css/timeline.css">
        
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
          <script src="js/html5shiv.min.js"></script>
          <script src="js/respond.min.js"></script>
        <![endif]-->
    </head>
<body>

	<!--modal create start-->
	<div class="modal fade height-500" data-backdrop="static" id="createModal" tabindex="-1" role="dialog" aria-labelledby="createModal">
		<div class="modal-dialog " role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true" class="fa fa-times-circle"></span>
					</button>
					<h3 class="modal-title" id="myModalLabel">新建方案</h3>
				</div>
				<div class="modal-body">
					<div class="modal-form">
						<form role="form">
							<div class="form-group">
								<label>上下文（流程块）</label>
								<input type="text" class="form-control" placeholder="" required="">
							</div>
							<div class="form-group">
								<label>exten（匹配标识）</label>
								<input type="text" class="form-control" placeholder="" required="">
							</div>
							<div class="form-group">
								<label>priority（优先级）</label>
								<input type="text" class="form-control" placeholder="" required="">
							</div>
							<div class="form-group">
								<label>app（命令）</label>
								<input type="text" class="form-control" placeholder="" required="">
							</div>
							<div class="form-group">
								<label>appdata（命令内容）</label>
								<input type="text" class="form-control" placeholder="">
							</div>
							<div class="clearfix">
								<button type="submit" class="btn  btn-primary pull-right">创建</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--modal create end-->
	<!--modal update start-->
	<div class="modal fade" data-backdrop="static" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="updateModal">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true" class="fa fa-times-circle"></span>
					</button>
					<h3 class="modal-title" id="myModalLabel">修改方案</h3>
				</div>
				<div class="modal-body">
					<div class="modal-form">
						<form role="form">
							<div class="form-group">
								<label>上下文（流程块）</label>
								<input type="text" class="form-control" placeholder="" required="">
							</div>
							<div class="form-group">
								<label>exten（匹配标识）</label>
								<input type="text" class="form-control" placeholder="" required="">
							</div>
							<div class="form-group">
								<label>priority（优先级）</label>
								<input type="text" class="form-control" placeholder="" required="">
							</div>
							<div class="form-group">
								<label>app（命令）</label>
								<input type="text" class="form-control" placeholder="" required="">
							</div>
							<div class="form-group">
								<label>appdata（命令内容）</label>
								<input type="text" class="form-control" placeholder="">
							</div>
							<div class="clearfix">
								<button type="submit" class="btn  btn-primary pull-right">创建</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--modal update end-->

	<!--main content start-->
	<section class="main-content">

		<!--page header start-->
		<div class="page-header">
			<div class="row">
				<div class="col-sm-6 flex-align-center">
					<h4 class="inline">拨号方案</h4>
					&nbsp;&nbsp;&nbsp;&nbsp;
					<a class="btn btn-primary" data-toggle="modal" data-target="#createModal" style="margin:5px;">添加</a>
					<a class="btn btn-primary" data-toggle="modal" data-target="#updateModal" style="margin:5px;">修改</a>
					<a class="btn btn-primary" onclick="delete_r(this)" style="margin:5px;">删除</a>
					<span class="red bottom">
						*用于控制电话按键流程走向
					</span>
				</div>
				<div class="col-sm-6 text-right">
					<ol class="breadcrumb">
						<li>
							<a href="javascript: void(0);">
								<i class="fa fa-home"></i>
							</a>
						</li>
						<li>话务设置</li>
						<li>拨号方案</li>
					</ol>
				</div>
			</div>
		</div>
		<!--page header end-->

		<!--page filter start-->
		<div class="row">
			<div class="col-md-12">
				<div class="panel panel-default collapsed">
					<div class="panel-heading">
						查询条件
					</div>

					<div class="panel-body">
						<div class="row">
							<div class="col-sm-3">
								<fieldset class="jquery-Ui-fieldset">
									<label for="simple">请选择数据公海</label>
									<select name="simple" id="simple">
										<option selected="selected">全部公海</option>
										<option>移动公海</option>
										<option>五十五中</option>
										<option>建行公海</option>
										<option>联通公海</option>
									</select>
								</fieldset>
							</div>

							<div class="col-sm-3">
								<fieldset class="jquery-Ui-fieldset">
									<label for="batch">请选择批次</label>
									<select name="batch" id="batch">
										<option selected="selected">全部批次</option>
										<option>20180902122</option>
										<option>20180902122</option>
										<option>20180902122</option>
										<option>20180902122</option>
									</select>
								</fieldset>
							</div>

							<div class="col-sm-3">
								<fieldset class="jquery-Ui-fieldset">
									<label for="status">请选择状态</label>
									<select name="status" id="status">
										<option selected="selected">全部状态</option>
										<option>已分配</option>
										<option>未分配</option>
										<option>已处理</option>
										<option>再分配</option>
									</select>
								</fieldset>
							</div>
							<div class="col-sm-3">

							</div>

						</div>

						<div class="row">
							<div class="col-sm-4">
								<fieldset class="jquery-Ui-fieldset">
									<label for="status">请选择导入数据起止时间</label>
									<input name="daterange" type="text">
								</fieldset>
							</div>

							<div class="col-sm-4">
								<fieldset class="jquery-Ui-fieldset">
									<label for="status">快速筛选时间</label>
									<div class="i-checks vl-i-checks-inline m-r-10">
										<label>
											<input type="radio" value="todayOnly" name="a">
											<i></i> 仅今日导入 </label>
									</div>
									<div class="i-checks vl-i-checks-inline">
										<label>
											<input type="radio" checked="" value="weekLatest" name="a">
											<i></i> 近一周导入 </label>
									</div>
								</fieldset>
							</div>
							<div class="col-sm-1">

							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
		<!--page filter end-->

		<!--start page content-->
		<div class="row">
			<div class="col-md-12">
				<div class="panel panel-default collapsed">
					<div class="panel-heading">
						<div class="buttons">
							<a id="selectAllBtn" class="btn btn-primary btn-border">全选</a>
							<a href="javascript: void(0);" class="btn btn-primary">批量分配</a>
							<div class="btn-group">
								<button type="button" class="btn btn-teal dropdown-toggle" data-toggle="dropdown" aria-expanded="false">导入外呼
									<span class="caret"></span>
								</button>
								<ul class="dropdown-menu" role="menu">
									<li>
										<a href="#">预测外呼</a>
									</li>
									<li>
										<a href="#">自动外呼</a>
									</li>
								</ul>
							</div>
							<a href="javascript: void(0);" class="btn btn-danger">批量删除</a>
						</div>
					</div>
					<div class="panel-body">
						<!--<div class="width-100">
                        		<div class="width-60 inline">
				                    <form method="get" action="/" class="form-horizontal">
			                            <div class=" form-group left-30p">
			                                <div class="inline float-left">
			                                	上下文
			                                	<input type="text" name="" id="" value="" class="inline" />
			                                </div>
			                            </div>
				                    </form>
                        		</div>          
	                            <a class="btn btn-primary top-button left-button" >筛选</a>
                        	</div>-->

						<table id="datatable" class="table table-striped dt-responsive nowrap">
							<thead>
								<tr>
									<th>序号</th>
									<th>上下文（流程块）</th>
									<th>exten（匹配标识）</th>
									<th>prority（优先级）</th>
									<th>app（命令）</th>
									<th>appdata（命令内容）</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>2616</td>
									<td>haier</td>
									<td>1001</td>
									<td>1</td>
									<td>Queue</td>
									<td>haier,t,,,30,queue.agi</td>
								</tr>
								<tr>
									<td>2616</td>
									<td>haier</td>
									<td>h</td>
									<td>2</td>
									<td>S</ettd>
										<td>haier,t,,,30,queue.agi</td>
								</tr>
								<tr>
									<td>2444</td>
									<td>haier</td>
									<td>h</td>
									<td>1</td>
									<td>Playback</td>
									<td>haier,t,,,30,queue.agi</td>
								</tr>
								<tr>
									<td>235</td>
									<td>haier</td>
									<td>haier</td>
									<td>2</td>
									<td>Hangup</td>
									<td>haier,t,,,30,queue.agi</td>
								</tr>
								<tr>
									<td>352</td>
									<td>haier</td>
									<td>1001</td>
									<td>1</td>
									<td>Queue</td>
									<td>haier,t,,,30,queue.agi</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
		<!--end row-->

		<!--end page content-->


		<!--Start footer-->
		<footer class="footer">
			<span>Copyright &copy; </span>
		</footer>
		<!--end footer-->

	</section>
	<!--end main content-->

	<!--Common plugins-->
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/pace.min.js"></script>
	<script src="js/jasny-bootstrap.min.js"></script>
	<script src="js/jquery.slimscroll.min.js"></script>
	<script src="js/jquery.nanoscroller.min.js"></script>
	<script src="js/metismenu.min.js"></script>
	<script src="js/float-custom.js"></script>

	<!--page script-->
	<script src="js/jquery.datatables.min.js"></script>
	<script src="js/datatables.responsive.min.js"></script>
	<script src="js/jquery-ui.min.js"></script>
	<script src="js/jquery.ui.custom.js"></script>
	<script src="js/drawer.js"></script>
	<!--sweet alerts-->
	<script src="js/sweet-alert.min.js"></script>
    <!-- iCheck for radio and checkboxes -->
    <script src="js/icheck.min.js"></script>
	<script>
		$(document).ready(function () {
			$('#datatable').DataTable({
				destroy: true,
				searching: true,
				language: {
					"sProcessing": "处理中...",
					"sLengthMenu": "显示 _MENU_ 项结果",
					"sZeroRecords": "没有匹配结果",
					"sInfo": "显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",
					"sInfoEmpty": "显示第 0 至 0 项结果，共 0 项",
					"sInfoFiltered": "(由 _MAX_ 项结果过滤)",
					"sInfoPostFix": "",
					"sSearch": "搜索:",
					"sUrl": "",
					"sEmptyTable": "表中数据为空",
					"sLoadingRecords": "载入中...",
					"sInfoThousands": ",",
					"oPaginate": {
						"sFirst": "首页",
						"sPrevious": "上页",
						"sNext": "下页",
						"sLast": "末页"
					},
					"oAria": {
						"sSortAscending": ": 以升序排列此列",
						"sSortDescending": ": 以降序排列此列"
					}
				}
			});
		});

		function delete_r(othis) {
			swal({
				title: "确定删除吗？",
				type: "warning",
				showCancelButton: true,
				confirmButtonColor: "#DD6B55",
				confirmButtonText: "确定！",
				cancelButtonText: '取消',
				closeOnConfirm: false
			},
				function () {
					swal(
						"删除！", "该分机已经被删除。", "success"
					);
					$(othis).parents("tr").css("display", "none");
				});

		}

		$(document).ready(function () {
			var selected = []; //选择数组
			$('#datatable').dataTable();

			// 选择当前行，排除对于操作列的click监听
			$('#datatable tbody').on('click', "tr", function () {

				var id = $(this).index();  // id 从server端获取

				var index = $.inArray(id, selected);

				if (index === -1) {
					selected.push(id);
				} else {
					selected.splice(index, 1);
				}

				$(this).toggleClass('selected');

				btnOnSelected(); // 监听是否全选，更改btn status

			});

			// 全选与取消全选
			$('#selectAllBtn').click(function () {

				// flag 也可以用server选中后的id list 判断，同时在单条选中所有后，更新button状态
				var flag = $('#selectAllBtn').text() == '全选' ? true : false
				flag ?
					$('#selectAllBtn').text('取消全选')
					: $('#selectAllBtn').text('全选')

				$('#datatable tbody tr').each(function (i) {
					flag ?
						$(this).addClass('selected')
						: $(this).removeClass('selected')
				})

			})

			function btnOnSelected() {
				if ($('tbody tr').not('.selected').length == 0) {
					$('#selectAllBtn').text('取消全选')
				} else {
					$('#selectAllBtn').text('全选')
				}
			}

			$("#batch").selectmenu(); //下拉菜单初始化
			$("#status").selectmenu();
			// radio添加class
			$('.i-checks').iCheck({
				checkboxClass: 'icheckbox_square-blue',
				radioClass: 'iradio_square-blue'
			});


		});

	</script>

</body>

</html>